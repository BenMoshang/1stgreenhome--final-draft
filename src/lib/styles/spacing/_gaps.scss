// Central gap logic and utilities moved from _flex.scss
@use '../base/global-variables' as globals;
@use '../base/scale' as scale;
@use 'sass:map';

// Legacy and custom gap logic (if needed)
$gap-sizes: (
  'xs': calc(#{scale.size('2xs')} * #{scale.$MAJOR-HALF}),
  'sm': calc(#{scale.size('xs')} * #{scale.$MAJOR-HALF}),
  'md': calc(#{scale.size('sm')} * #{scale.$MAJOR-HALF}),
  'lg': calc(#{scale.size('md')} * #{scale.$MAJOR-HALF}),
  'xl': calc(#{scale.size('lg')} * #{scale.$MAJOR-HALF}),
  '2xl': calc(#{scale.size('xl')} * #{scale.$MAJOR-HALF}),
); 
@function gap($size-key) {
  @if map.has-key($gap-sizes, $size-key) {
    $base-gap: map.get($gap-sizes, $size-key);
    @return $base-gap;
  } @else {
    @warn "Invalid gap key '#{$size-key}'. Valid keys: #{map.keys($gap-sizes)}";
    @return null;
  }
}

// 2. Generate :root gap variables based on spacing scale
:root {
  @each $name, $value in $gap-sizes {
    --gap-#{$name}: #{$value};
  }
}



// 4. Old gap utility classes (for backward compatibility)
@each $name, $size in $gap-sizes {
  .u_gap__#{$name} {
    gap: $size;
  }
  .u_gap-column__#{$name} {
    column-gap: $size;
  }
  .u_gap-row__#{$name} {
    row-gap: $size;
  }
}
