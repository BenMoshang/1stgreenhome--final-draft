/* ==========================================================================
   1. Imports
   ========================================================================== */

@use '../appearance/colors';

/* ==========================================================================
   2. Global Resets & Base Styles
   ========================================================================== */

*,
::before,
::after {
  box-sizing: border-box; /* 1. Change from `content-box` to `border-box` */
}

html {
  inline-size: 100%;
  min-block-size: 100svh;
  scroll-behavior: smooth;
  scrollbar-color: var(--primary) var(--surface);
  scrollbar-track-color: var(--surface);
  scrollbar-width: thin;

  /* Base setup */

  /* Enable keyword animations for users who don't prefer reduced motion */
  @media (prefers-reduced-motion: no-preference) {
    interpolate-size: allow-keywords;
  }
}

body {
  margin: 0; /* Remove default body margin */
  background-color: var(--background); /* Use CSS custom property for background */

  /* Font rendering improvements */
  font-smooth: antialiased;
  -webkit-font-smoothing: antialiased; /* For Safari/Chrome */
  -moz-osx-font-smoothing: grayscale; /* For Firefox */
  overflow-inline: clip; /* Prevent horizontal scrolling */
  text-rendering: geometricprecision; /* Favors geometry over legibility/speed */
}

/* ==========================================================================
   3. Element Resets & Basic Styling
   ========================================================================== */

/* Reset margins and font inheritance for common elements */
:where(dt, dd, li, p, h1, h2, h3, h4, h5, h6) {
  margin: 0;
  font: inherit;
  overflow-wrap: break-word; /* Avoid text overflows */
}

/* Reset lists */
:where(ul, ol, dl) {
  padding: 0;
  margin: 0;
  list-style: none;
}

/* Basic table reset */
table {
  border-collapse: collapse;
  border-spacing: 0;
}

/* Form element font inheritance */
:where(input, button, textarea, select) {
  font: inherit;
}

/* Address element style reset */
address {
  font-style: normal;
}

/* Horizontal rule basic styling */
:where(hr) {
  display: block; /* Ensure it's treated as a block */
  border: 0; /* Reset border */
  margin: 0; /* Reset margin */
  background-color: var(--outline); /* Use CSS variable for color */
  block-size: 1px;
  inline-size: 100%;
}

/* Media element defaults */
:where(img, picture, video, canvas, svg) {
  display: block; /* Often helpful for layout */
  background-repeat: no-repeat;
  background-size: cover;
  block-size: auto; /* Maintain aspect ratio */
  font-style: italic; /* Indicate missing images */
  max-inline-size: 100%; /* Responsive width */
  shape-margin: 1rem;
  vertical-align: middle; /* Align nicely if inline */
}

/* ==========================================================================
   4. Typography Enhancements
   ========================================================================== */

/* Improve text wrapping for headings and paragraphs */
p,
h1,
h2,
h3,
h4,
h5,
h6 {
  overflow-wrap: break-word; /* Already set above, but good to see here */
}

h1,
h2,
h3,
h4,
h5,
h6 {
  text-wrap: balance; /* Attempt to balance line lengths */
}

p {
  text-wrap: pretty; /* Improve paragraph line breaking */
}

/* ==========================================================================
   5. Link Styling
   ========================================================================== */

:where(a) {
  color: currentcolor; /* Inherit text color */
  text-decoration: none; /* Remove underline */
}

:where(a:active, a:hover, a:focus-visible) {

  // @include colors.fg__primary;

  /* Apply primary foreground color on interaction */
}

/* ==========================================================================
   6. Global UI Styling
   ========================================================================== */

/* Text selection style */
::selection {
  background: var(--primary);
  color: var(--on-primary);
}

/* Interactive Elements */
button,
[role='button'],
select {
  cursor: pointer;
  touch-action: manipulation;
}

::-webkit-scrollbar-track {
  background: var(--surface);
}

::-webkit-scrollbar-thumb {
  border: 0.125rem solid var(--surface);
  border-radius: 0.25rem;
  background-color: var(--primary);
}

}
